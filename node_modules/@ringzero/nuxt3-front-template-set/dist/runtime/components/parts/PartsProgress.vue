<template>
  <div v-if="type === PROGRESS_TYPE.CIRCLE" class="Circle">
    <v-progress-circular :size="size" :width="width" :model-value="value" :color="color">
      <slot>
        <div class="Label">{{ value }}</div>
      </slot>
    </v-progress-circular>
  </div>

  <div v-else-if="type === PROGRESS_TYPE.LINE" class="Line">
    <v-progress-linear
      :color="color"
      :model-value="value"
      :height="height"
      :style="{ width: lineWidth + 'px', left: 0, transform: 'translateX(0)' }"
    />
    <slot>
      <div class="Label">{{ value }}</div>
    </slot>
  </div>

  <div v-else class="Infinity">
    <v-progress-circular :color="color" indeterminate :size="size" :width="width">
      <slot />
    </v-progress-circular>
  </div>
</template>

<script setup lang="ts">
import { THEME_COLOR, PROGRESS_TYPE } from '../../composables/constants'
import { ref } from 'vue'
//------------------------------------------------------------------------------------------------------------
// 引数
//------------------------------------------------------------------------------------------------------------
interface Props {
  value?: number
  color?: string
  size?: number
  width?: number
  height?: number
  lineWidth?: number
  type?: string
  showValu?: boolean
}
const props = withDefaults(defineProps<Props>(), {
  value: 0,
  size: 36,
  height: 4,
  lineWidth: 300,
  color: THEME_COLOR.success,
  type: PROGRESS_TYPE.INFINITY,
})

const elapsedTime = ref(0)
</script>

<style scoped>
.Circle {
  position: relative;
}
.Circle .Label {
  padding-top: 1.5px;
  font-size: 14px;
}

.Line {
  position: relative;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.Line .Label {
  margin-left: 20px;
  padding-top: 1.5px;
  font-size: 14px;
}

::v-deep(.v-progress-circular--indeterminate .v-progress-circular__overlay) {
  animation: progress-circular-dash 2s ease-in-out infinite, progress-circular-rotate 4s linear infinite;
}
</style>
