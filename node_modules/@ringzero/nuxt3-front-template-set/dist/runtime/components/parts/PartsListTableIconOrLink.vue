<template>
  <div :style="{ cursor: inputLink ? 'pointer' : '' }" @click="inputLink ? onClick(inputLink) : undefined">
    <v-icon v-if="inputIcon" :icon="inputIcon" :color="inputColor" size="24" />
    <div v-else>{{ inputText }}</div>
  </div>
</template>

<script setup lang="ts">
/**===================================================================================================================
   * リストテーブル用の特殊パーツ
   * アイコンかリンク用のテキストを出力する
   ===================================================================================================================**/
import { ref } from 'vue'
//------------------------------------------------------------------------------------------------------------
// 引数
//------------------------------------------------------------------------------------------------------------
interface Props {
  value: { icon?: string; text?: string; link?: string; color?: string }
}
const props = withDefaults(defineProps<Props>(), {})

//------------------------------------------------------------------------------------------------------------
// 定数・変数（state）
//------------------------------------------------------------------------------------------------------------
const type = ref('link')
const inputColor = ref(props.value.color)
const inputIcon = ref(props.value.icon)
const inputText = ref(props.value.text)
const inputLink = ref(props.value.link)
//------------------------------------------------------------------------------------------------------------
// ライフサイクル
//------------------------------------------------------------------------------------------------------------
/*
  onBeforeMount(() => {
    //記憶した位置、サイズでの復帰を可能にする
  })

  onMounted(() => {
    //window.addEventListener('resize', onGetPosition)
  })

  onBeforeUnmount(() => {
    //window.removeEventListener('resize', onGetPosition)
  })
  */
//------------------------------------------------------------------------------------------------------------
//watch
//------------------------------------------------------------------------------------------------------------
/*
  watch(
    () => props.value,
    (value) => {
      input.value = value
    }
  )
  //------------------------------------------------------------------------------------------------------------
  //computed
  //------------------------------------------------------------------------------------------------------------
  /*
  const counter: Ref<number> = useState('counter', () => 500)

  // computedによりcounter変数の監視が行われる
  const doubleCount = computed(() => {
    return counter.value * 2
  })
  */
//------------------------------------------------------------------------------------------------------------
// エミット
//------------------------------------------------------------------------------------------------------------
const emits = defineEmits<{ (e: 'update:value', item: any): void }>()

function onClick(value: any) {
  // console.log('クリック1')
  emits('update:value', inputLink.value)
}

//------------------------------------------------------------------------------------------------------------
// メソッド
//------------------------------------------------------------------------------------------------------------
</script>

<style lang="scss" scoped></style>
