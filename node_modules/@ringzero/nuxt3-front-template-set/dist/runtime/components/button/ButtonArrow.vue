<template>
  <ButtonBasic
    class="ButtonArrow"
    :class="{ actived: actived, icon: icon, Border: border }"
    :color="color ? color : useLuminance(backcolor) > 0.5 ? '#666' : '#fff'"
    :backcolor="backcolor"
    :style="{
      width: width ? width + 'px' : undefined,
      height: medium ? '24px' : icon && width ? width + 'px' : height ? height + 'px' : '36px',
      border: disabled && border ? '1px solid rgba(var(--r-color-line), 0.5)' : '',
    }"
    after-icon="mdi-chevron-down"
    :icon-size="22"
    :text="text"
    :light="light !== undefined ? light : useLuminance(backcolor) > 0.5 ? true : false"
    :disabled="disabled"
    :buttonType="buttonType"
    :align="align"
    :medium="medium"
  />
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { THEME_COLOR } from '../../composables/constants'
import { useLuminance } from '../../composables/colors'
//今回printWidthは120にしてるので、この===の長さを目安にコードを整える
/**===================================================================================================================
   * モーダルウィンドウ
   * タイトルバーをドラックで移動できる
   ===================================================================================================================**/

//------------------------------------------------------------------------------------------------------------
// 定数・変数（state）
//------------------------------------------------------------------------------------------------------------
const modalWindow = ref(null)

//------------------------------------------------------------------------------------------------------------
// 引数
//------------------------------------------------------------------------------------------------------------
interface Props {
  text?: string //ウィンドウ位置保存の為の名前になる
  actived?: string | boolean
  color?: string
  backcolor?: string
  width?: number
  height?: number
  light?: boolean
  icon?: boolean
  border?: boolean
  align?: string
  disabled?: boolean
  buttonType?: string
  medium?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  backcolor: THEME_COLOR.primary,
})

const buttonColor = props.color

//------------------------------------------------------------------------------------------------------------
// メソッド
//------------------------------------------------------------------------------------------------------------
</script>

<style scoped>
.ButtonArrow {
  justify-content: space-between;
  padding: 0 4px 0 12px;
  border-radius: 4px;
  transition: background-color 0.2s ease-in-out;
}
.ButtonArrow ::v-deep(.ButtonIcon).after {
  transition: transform 0.2s ease-in-out;
  margin-left: 10px;
  font-size: 12px;
  transform: rotate(0deg);
}
.ButtonArrow.actived ::v-deep(.ButtonIcon).after {
  transform: rotate(180deg);
}
.ButtonArrow.icon {
  padding: 0;
  justify-content: center;
  border-radius: 50%;
}
.ButtonArrow.icon ::v-deep(.ButtonIcon).after {
  transition: transform 0.2s ease-in-out;
  margin-left: 0px;
  font-size: initial;
  transform: rotate(0deg);
}
.ButtonArrow.icon.actived ::v-deep(.ButtonIcon).after {
  transform: rotate(180deg);
}
.ButtonArrow.Border {
  border: 1px solid #999;
}
.ButtonArrow.disabled.light {
  cursor: auto;
}
.ButtonArrow.disabled.light ::v-deep(.Back) {
  background-color: transparent;
  opacity: 0 !important;
}
</style>
