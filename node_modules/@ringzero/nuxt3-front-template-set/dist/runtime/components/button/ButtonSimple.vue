<template>
  <ButtonBasic
    class="ButtonSimple"
    :class="{ small: small, minimum: minimum, frame: frame }"
    :color="useLuminance(backcolor) > 0.5 ? '#666' : '#fff'"
    :backcolor="backcolor"
    :text="text"
    :width="width"
    :height="height ? height : small ? 24 : minimum ? 20 : 36"
    :align="align"
    :beforIcon="beforIcon"
    :afterIcon="afterIcon"
    :active="active"
    :iconTop="iconTop"
    :iconLeft="iconLeft"
    :iconSize="iconSize"
    :disabled="disabled"
    :border="border"
    :narrow="narrow"
    :light="useLuminance(backcolor) > 0.5 ? true : false"
  />
</template>

<script setup lang="ts">
// 認識しないため、import追加
import { onBeforeMount, onBeforeUnmount, onMounted, ref } from 'vue'
import { THEME_COLOR } from '../../composables/constants'
import { useLuminance } from '../../composables/colors'
/**
 * シンプルボタン テーマカラー & 任意の色が使える
 *   surface
 *   primary
 *   secondary
 *   error
 *   info
 *   success
 *   warning
 **/
const input = ref('')

interface Props {
  text?: string
  width?: number
  height?: number
  beforIcon?: string
  afterIcon?: string
  active?: boolean
  iconTop?: string
  iconLeft?: string
  iconSize?: number
  backcolor?: string
  border?: boolean
  small?: boolean
  minimum?: boolean
  frame?: boolean
  disabled?: boolean
  narrow?: boolean
  align?: string
}

const props = withDefaults(defineProps<Props>(), {
  backcolor: THEME_COLOR.primary,
  align: 'center',
})

//------------------------------------------------------------------------------------------------------------
// ライフサイクル
//------------------------------------------------------------------------------------------------------------
onBeforeMount(() => {})

onMounted(() => {
  //window.addEventListener('resize', onGetPosition)
})

onBeforeUnmount(() => {
  //window.removeEventListener('resize', onGetPosition)
})
</script>

<style scoped>
.ButtonSimple {
  border-radius: 4px;
  padding: 0 16px;
}

.small {
  padding: 0 4px;
}
.small ::v-deep(.ButtonIcon) {
  font-size: 12px;
}
.small ::v-deep(.Label) {
  padding: 1px 4px 0 !important;
  font-size: 12px;
}

.minimum {
  padding: 0 4px;
}
.minimum ::v-deep(.ButtonIcon) {
  font-size: 10px;
}
.minimum ::v-deep(.Label) {
  padding: 1px 4px 0 !important;
  font-size: 10px;
}
</style>
