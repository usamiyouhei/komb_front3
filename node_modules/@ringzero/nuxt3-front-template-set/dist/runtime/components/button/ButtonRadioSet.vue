<template>
  <div class="ButtonRadioSet" :class="{ inline: inline }">
    <ButtonToggle
      v-for="item in items"
      class="RadioButton mr-2 colorTXT"
      icon="radio"
      :value="item.value"
      :color="color"
      :actived="item.value === input"
      :disabled="disabled"
      :hint="item.hint"
      @update:value="onChange($event)"
      :label="item.text"
    />
  </div>
</template>

<script setup lang="ts">
import { ref, watch } from 'vue'
/** ラジオボタンセット */
import { type ListButtonProps } from '../../components/common'

interface Props {
  value: string | number | undefined
  items?: ListButtonProps[]
  inline?: boolean
  color?: string
  disabled?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  inline: false,
})

const emits = defineEmits<{ (e: 'update:value', item: any): void }>()
const input = ref(props.value)

function onChange(value: any) {
  if (!props.disabled) {
    input.value = value
    emits('update:value', value)
  }
}
watch(
  () => props.value,
  (value) => {
    input.value = value
  }
)
</script>

<style scoped>
.ButtonRadioSet {
  position: relative;
}
.ButtonRadioSet .RadioButton {
  position: relative;
  height: 30px;
  display: flex;
  align-items: center;
  overflow-y: hidden;
}

.inline {
  display: flex;
  flex-wrap: wrap;
  height: 32px;
}

::v-deep(.v-radio) {
  margin-right: 12px;
}

::v-deep(.v-label) {
  padding-top: 3px;
  font-size: 14px;
}

::v-deep(.v-icon--size-default) {
  font-size: 18px;
}

::v-deep(.v-selection-control--density-compact) {
  --v-selection-control-size: 26px;
}
</style>
